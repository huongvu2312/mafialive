var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(b,e,d){b instanceof String&&(b=String(b));for(var g=b.length,a=0;a<g;a++){var c=b[a];if(e.call(d,c,a,b))return{i:a,v:c}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,e,d){b!=Array.prototype&&b!=Object.prototype&&(b[e]=d.value)};
$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(b,e,d,g){if(e){d=$jscomp.global;b=b.split(".");for(g=0;g<b.length-1;g++){var a=b[g];a in d||(d[a]={});d=d[a]}b=b[b.length-1];g=d[b];e=e(g);e!=g&&null!=e&&$jscomp.defineProperty(d,b,{configurable:!0,writable:!0,value:e})}};
$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,d){return $jscomp.findInternal(this,b,d).v}},"es6","es3");
!function(b,e,d,g){XF.Lightbox=XF.Element.newHandler({options:{lbAddClass:"",lbUniversal:0,lbSingleImage:0,lbContainerZoom:0,lbTrigger:".js-lbImage",lbContainer:".js-lbContainer",lbMode:"lg-slide",lbThumbnail:!0,lbShowThumb:!0,lbNewWindow:!0,lbHideBarsDelay:1E3,lbPreload:1},init:function(){this.initPlugins();this.options.lbSingleImage?this.initSingleImageContainer():this.initContainers();b(d).on("xf:reinit",XF.proxy(this,"checkReInit"))},initSingleImageContainer:function(){if(this.options.lbSingleImage){var a=
this.$target;b(e).onPassive("resize",XF.proxy(this,"handleContainerZoom"));a.on("lightbox:init",XF.proxy(this,"handleContainerZoom"));this._initContainer(a)}},handleContainerZoom:function(){if(this.options.lbSingleImage&&this.options.lbContainerZoom){var a=this.$target,c=a.find("img[data-zoom-target=1]"),h=this;c.parents("a").length||setTimeout(function(){if(c.prop("complete"))h.isImageNaturalSize(c)?a.removeClass("lbContainer--canZoom"):a.addClass("lbContainer--canZoom");else c.on("load",function(){h.isImageNaturalSize(b(this))?
a.removeClass("lbContainer--canZoom"):a.addClass("lbContainer--canZoom")})},500)}},initContainers:function(){if(!this.options.lbSingleImage){var a=this;(this.options.lbUniversal?this.$target:this.$target.find(this.options.lbContainer)).each(function(){a._initContainer(b(this))})}},_initContainer:function(a){if(!a.data("lbInitialized")){a.find(this.options.lbTrigger).on("click.xflbtrigger",function(a){if(a.ctrlKey||a.altKey||a.metaKey||a.shiftKey)return a.stopImmediatePropagation(),!0});var c=b.extend(this.getConfig(),
{galleryId:a.data("lb-id")});a.lightGallery(c);a.data("lbInitialized",!0);c=b.Event("lightbox:init");a.trigger(c);a.on("onAfterSlide.lg",XF.proxy(this,"afterSlide"))}},_reInitContainer:function(a){if(a.data("lbInitialized")){var b=a.data("lightGallery");b&&b.destroy(!0);a.find(this.options.lbTrigger).off("click.xflbtrigger");a.removeData("lbInitialized");this._initContainer(a)}},checkReInit:function(a,c){if(c!=d&&this.$target.find(c).length){a=b(c);c=this.options.lbTrigger;var h=this.options.lbContainer;
this.options.lbUniversal?(a.is(c)||a.find(c).length)&&this._reInitContainer(this.$target):a.is(h)||a.find(h).length?this.initContainers():a.closest(h).length&&(a.is(c)||a.find(c).length)&&this._reInitContainer(a.closest(h))}},getConfig:function(){return{addClass:b.trim("xfLb "+this.options.lbAddClass),selector:this.options.lbTrigger,mode:this.options.lbMode,thumbnail:this.options.lbThumbnail,showThumbByDefault:this.options.lbShowThumb,hideBarsDelay:this.options.lbHideBarsDelay,newWindow:this.options.lbNewWindow,
preload:this.options.lbPreload,getCaptionFromTitleOrAlt:!1,share:!1}},isImageNaturalSize:function(a){var b=a.width(),d=a.height(),f=a.prop("naturalWidth");a=a.prop("naturalHeight");return f&&a?b==f&&d==a?!0:!1:!0},afterSlide:function(a,c,d){var f=b(a.target).data("lightGallery");a=f.$slide.get(d);a=b(a).find(".lg-image");if(a.prop("complete"))this.setZoomIconState(a,f);else{var e=this;a.on("load",function(){var a=b(this);e.setZoomIconState(a,f)})}},setZoomIconState:function(a,b){var c=b.$outer.find("#lg-actual-size");
if("undefined"===typeof a.data("lbCanZoom")){var d=this;setTimeout(function(){d.isImageNaturalSize(a)?(c.addClass("lg-icon--dimmed"),a.data("lbCanZoom",!1)):(c.removeClass("lg-icon--dimmed"),a.data("lbCanZoom",!0))},500)}else a.data("lbCanZoom")?c.removeClass("lg-icon--dimmed"):c.addClass("lg-icon--dimmed")},initPlugins:function(){var a={newWindow:!0},c=function(c){this.core=b(c).data("lightGallery");this.$el=b(c);this.core.s=b.extend({},a,this.core.s);this.init();return this};c.prototype.init=function(){if(this.core.s.newWindow){var a,
c=this.core.$outer,d=b('<a id="lg-new-window" class="lg-icon" target="_blank"></a>'),e=!1;this.$el.on("onSlideItemLoad.lg onAfterSlide.lg",function(b){e||(e=!0,(a=c.find(".lg-current").find(".lg-image").attr("src"))?(d.attr("href",a),d.show()):d.attr("href")||d.hide(),e=!1)});var f=c.find(".lg-toolbar"),g=f.find("#lg-actual-size");g.length?d.insertBefore(g):f.append(d)}};c.prototype.destroy=function(){this.$el.off("onSlideItemLoad.lg onAfterSlide.lg")};var g={captionLoader:!0},f=function(a){this.core=
b(a).data("lightGallery");this.$el=b(a);this.core.s=b.extend({},g,this.core.s);this.init();return this};f.prototype.init=function(){this.core.s.captionLoader&&(this.$el.one("onAfterOpen.lg",XF.proxy(this,"captionAfterOpen")),this.$el.on("onAfterAppendSubHtml.lg",XF.proxy(this,"captionLoaded")))};f.prototype.captionAfterOpen=function(){var a=this.$el;a.data("captionsProcessed")||(a.find(".js-lbImage").each(function(){var a=b(this),c=a.find("img"),d=a.closest(".js-lbContainer"),f=d.data("lb-id");c=
{title:d.data("lb-caption-title")||c.attr("alt")||c.attr("title")||"",desc:a.data("lb-caption-desc")||d.data("lb-caption-desc")||"",href:a.data("lb-caption-href")||(f?e.location.href.replace(/#.*$/,"")+"#"+f:null)};a.attr("data-sub-html",Mustache.render('<h4>{{title}}</h4><p><a href="{{href}}">{{desc}}</a></p>',c))}),a.data("captionsProcessed",!0))};f.prototype.captionLoaded=function(){this.core.$outer.find(this.core.s.appendSubHtmlTo+" a").on("click",XF.proxy(this,"captionLinkClicked"))};f.prototype.captionLinkClicked=
function(a){setTimeout(function(){e.location.href=b(a.target).attr("href")},50)};f.prototype.destroy=function(){this.$el.off("onAfterOpen.lg onAfterAppendSubHtml.lg")};var k=b.fn.lightGallery.modules.fullscreen,l=k.prototype.exitFullscreen;k.prototype.exitFullscreen=function(){(d.fullscreenElement||d.webkitFullscreenElement||d.mozFullScreenElement)&&l()};b.fn.lightGallery.modules.newwindow=c;b.fn.lightGallery.modules.captionloader=f}});XF.Element.register("lightbox","XF.Lightbox")}(jQuery,window,
document);
